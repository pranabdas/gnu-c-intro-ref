<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright (C) 2022 Richard Stallman and Free Software Foundation, Inc.

(The work of Trevis Rothwell and Nelson Beebe has been assigned to the FSF.)

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<title>Compatible Types (GNU C Language Manual)</title>

<meta name="description" content="Compatible Types (GNU C Language Manual)">
<meta name="keywords" content="Compatible Types (GNU C Language Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Symbol-Index.html" rel="index" title="Symbol Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index.html" rel="up" title="Top">
<link href="Type-Conversions.html" rel="next" title="Type Conversions">
<link href="Functions.html" rel="prev" title="Functions">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="chapter" id="Compatible-Types">
<div class="header">
<p>
Next: <a href="Type-Conversions.html" accesskey="n" rel="next">Type Conversions</a>, Previous: <a href="Functions.html" accesskey="p" rel="prev">Functions</a>, Up: <a href="index.html" accesskey="u" rel="up">GNU C Manual</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Symbol-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Compatible-Types-1"></span><h2 class="chapter">23 Compatible Types</h2>
<span id="index-compatible-types"></span>
<span id="index-types_002c-compatible"></span>

<p>Declaring a function or variable twice is valid in C only if the two
declarations specify <em>compatible</em> types.  In addition, some
operations on pointers require operands to have compatible target
types.
</p>
<p>In C, two different primitive types are never compatible.  Likewise for
the defined types <code>struct</code>, <code>union</code> and <code>enum</code>: two
separately defined types are incompatible unless they are defined
exactly the same way.
</p>
<p>However, there are a few cases where different types can be
compatible:
</p>
<ul>
<li> Every enumeration type is compatible with some integer type.  In GNU
C, the choice of integer type depends on the largest enumeration
value.


</li><li> Array types are compatible if the element types are compatible
and the sizes (when specified) match.

</li><li> Pointer types are compatible if the pointer target types are
compatible.

</li><li> Function types that specify argument types are compatible if the
return types are compatible and the argument types are compatible,
argument by argument.  In addition, they must all agree in whether
they use <code>...</code> to allow additional arguments.

</li><li> Function types that don&rsquo;t specify argument types are compatible if the
return types are.

</li><li> Function types that specify the argument types are compatible with
function types that omit them, if the return types are compatible and
the specified argument types are unaltered by the argument promotions
(see <a href="Argument-Promotions.html">Argument Promotions</a>).
</li></ul>

<p>In order for types to be compatible, they must agree in their type
qualifiers.  Thus, <code>const int</code> and <code>int</code> are incompatible.
It follows that <code>const int *</code> and <code>int *</code> are incompatible
too (they are pointers to types that are not compatible).
</p>
<p>If two types are compatible ignoring the qualifiers, we call them
<em>nearly compatible</em>.  (If they are array types, we ignore
qualifiers on the element types.<a id="DOCF7" href="#FOOT7"><sup>7</sup></a>)
Comparison of pointers is valid if the pointers&rsquo; target types are
nearly compatible.  Likewise, the two branches of a conditional
expression may be pointers to nearly compatible target types.
</p>
<p>If two types are compatible ignoring the qualifiers, and the first
type has all the qualifiers of the second type, we say the first is
<em>upward compatible</em> with the second.  Assignment of pointers
requires the assigned pointer&rsquo;s target type to be upward compatible
with the right operand (the new value)&rsquo;s target type.
</p>
</div>
<div class="footnote">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h5><a id="FOOT7" href="#DOCF7">(7)</a></h5>
<p>This is a GNU C extension.</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="Type-Conversions.html">Type Conversions</a>, Previous: <a href="Functions.html">Functions</a>, Up: <a href="index.html">GNU C Manual</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Symbol-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
