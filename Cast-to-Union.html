<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright (C) 2022 Richard Stallman and Free Software Foundation, Inc.

(The work of Trevis Rothwell and Nelson Beebe has been assigned to the FSF.)

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<title>Cast to Union (GNU C Language Manual)</title>

<meta name="description" content="Cast to Union (GNU C Language Manual)">
<meta name="keywords" content="Cast to Union (GNU C Language Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Symbol-Index.html" rel="index" title="Symbol Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Structures.html" rel="up" title="Structures">
<link href="Structure-Constructors.html" rel="next" title="Structure Constructors">
<link href="Packing-With-Unions.html" rel="prev" title="Packing With Unions">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="section" id="Cast-to-Union">
<div class="header">
<p>
Next: <a href="Structure-Constructors.html" accesskey="n" rel="next">Structure Constructors</a>, Previous: <a href="Packing-With-Unions.html" accesskey="p" rel="prev">Packing With Unions</a>, Up: <a href="Structures.html" accesskey="u" rel="up">Structures</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Symbol-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Cast-to-a-Union-Type"></span><h3 class="section">15.16 Cast to a Union Type</h3>
<span id="index-cast-to-a-union"></span>
<span id="index-union_002c-casting-to-a"></span>

<p>In GNU C, you can explicitly cast any of the alternative types to the
union type; for instance,
</p>
<div class="example">
<pre class="example">(union eight_bytes) (long long) 5
</pre></div>

<p>makes a value of type <code>union eight_bytes</code> which gets its contents
through the alternative named <code>big_int_elt</code>.
</p>
<p>The value being cast must exactly match the type of the alternative,
so this is not valid:
</p>
<div class="example">
<pre class="example">(union eight_bytes) 5  /* <span class="roman">Error!  5 is <code>int</code>.</span> */
</pre></div>

<p>A cast to union type looks like any other cast, except that the type
specified is a union type.  You can specify the type either with
<code>union <var>tag</var></code> or with a typedef name (see <a href="Defining-Typedef-Names.html">Defining Typedef Names</a>).
</p>
<p>Using the cast as the right-hand side of an assignment to a variable of
union type is equivalent to storing in an alternative of the union:
</p>
<div class="example">
<pre class="example">union foo u;

u = (union foo) x   <span class="roman">means</span>   u.i = x

u = (union foo) y   <span class="roman">means</span>   u.d = y
</pre></div>

<p>You can also use the union cast as a function argument:
</p>
<div class="example">
<pre class="example">void hack (union foo);
<span class="roman">&hellip;</span>
hack ((union foo) x);
</pre></div>

</div>



</body>
</html>
