<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright (C) 2022 Richard Stallman and Free Software Foundation, Inc.

(The work of Trevis Rothwell and Nelson Beebe has been assigned to the FSF.)

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<title>Rounding (GNU C Language Manual)</title>

<meta name="description" content="Rounding (GNU C Language Manual)">
<meta name="keywords" content="Rounding (GNU C Language Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Symbol-Index.html" rel="index" title="Symbol Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Floating-Point-in-Depth.html" rel="up" title="Floating Point in Depth">
<link href="Rounding-Issues.html" rel="next" title="Rounding Issues">
<link href="Exact-Floating_002dPoint.html" rel="prev" title="Exact Floating-Point">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="section" id="Rounding">
<div class="header">
<p>
Next: <a href="Rounding-Issues.html" accesskey="n" rel="next">Rounding Issues</a>, Previous: <a href="Exact-Floating_002dPoint.html" accesskey="p" rel="prev">Exact Floating-Point Arithmetic</a>, Up: <a href="Floating-Point-in-Depth.html" accesskey="u" rel="up">Floating Point in Depth</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Symbol-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Rounding-1"></span><h3 class="section">28.7 Rounding</h3>
<span id="index-rounding"></span>

<p>When floating-point arithmetic produces a result that can&rsquo;t fit
exactly in the significand of the type that&rsquo;s in use, it has to
<em>round</em> the value.  The basic arithmetic operations&mdash;addition,
subtraction, multiplication, division, and square root&mdash;always produce
a result that is equivalent to the exact, possibly infinite-precision
result rounded to storage precision according to the current rounding
rule.
</p>
<p>Rounding sets the <code>FE_INEXACT</code> exception flag (see <a href="Exception-Flags.html">Floating Arithmetic Exception Flags</a>).  This enables programs to determine that rounding has
occurred.
</p>
<p>Rounding consists of adjusting the exponent to bring the significand
back to the required base-point alignment, then applying the current
<em>rounding rule</em> to squeeze the significand into the fixed
available size.
</p>
<p>The current rule is selected at run time from four options.  Here they
are:
</p>
<ul class="no-bullet">
<li>* <em>round-to-nearest</em>, with ties rounded to an even integer;

</li><li>* <em>round-up</em>, towards <code>+Infinity</code>;

</li><li>* <em>round-down</em>, towards <code>-Infinity</code>;

</li><li>* <em>round-towards-zero</em>.
</li></ul>

<p>Under those four rounding rules, a decimal value
<code>-1.2345</code> that is to be rounded to a four-digit result would
become <code>-1.234</code>, <code>-1.234</code>, <code>-1.235</code>, and
<code>-1.234</code>, respectively.
</p>
<p>The default rounding rule is <em>round-to-nearest</em>, because that has
the least bias, and produces the lowest average error.  When the true
result lies exactly halfway between two representable machine numbers,
the result is rounded to the one that ends with an even digit.
</p>
<p>The <em>round-towards-zero</em> rule was common on many early computer
designs, because it is the easiest to implement: it just requires
silent truncation of all extra bits.
</p>
<p>The two other rules, <em>round-up</em> and <em>round-down</em>, are
essential for implementing <em>interval arithmetic</em>, whereby
each arithmetic operation produces lower and upper bounds that
are guaranteed to enclose the exact result.
</p>
<p>See <a href="Rounding-Control.html">Rounding Control</a>, for details on getting and setting the
current rounding mode.
</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="Rounding-Issues.html">Rounding Issues</a>, Previous: <a href="Exact-Floating_002dPoint.html">Exact Floating-Point Arithmetic</a>, Up: <a href="Floating-Point-in-Depth.html">Floating Point in Depth</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Symbol-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
