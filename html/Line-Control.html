<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright (C) 2022 Richard Stallman and Free Software Foundation, Inc.

(The work of Trevis Rothwell and Nelson Beebe has been assigned to the FSF.)

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<title>Line Control (GNU C Language Manual)</title>

<meta name="description" content="Line Control (GNU C Language Manual)">
<meta name="keywords" content="Line Control (GNU C Language Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Symbol-Index.html" rel="index" title="Symbol Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Preprocessing.html" rel="up" title="Preprocessing">
<link href="Null-Directive.html" rel="next" title="Null Directive">
<link href="Diagnostics.html" rel="prev" title="Diagnostics">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="section" id="Line-Control">
<div class="header">
<p>
Next: <a href="Null-Directive.html" accesskey="n" rel="next">Null Directive</a>, Previous: <a href="Diagnostics.html" accesskey="p" rel="prev">Diagnostics</a>, Up: <a href="Preprocessing.html" accesskey="u" rel="up">Preprocessing</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Symbol-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Line-Control-1"></span><h3 class="section">26.8 Line Control</h3>
<span id="index-line-control"></span>

<p>Due to C&rsquo;s widespread availability and low-level nature, it is often
used as the target language for translation of other languages, or for
the output of lexical analyzers and parsers (e.g., lex/flex and
yacc/bison).  Line control enables the user to track diagnostics back
to the location in the original language.
</p>
<p>The C compiler knows the location in the source file where each token
came from: file name, starting line and column, and final line and column.
(Column numbers are used only for error messages.)
</p>
<p>When a program generates C source code, as the Bison parser generator
does, often it copies some of that C code from another file.  For
instance parts of the output from Bison are generated from scratch or
come from a standard parser file, but Bison copies the rest from
Bison&rsquo;s input file.  Errors in that code, at compile time or run time,
should refer to that file, which is the real source code.  To make that happen,
Bison generates line-control directives that the C compiler understands.
</p>
<span id="index-_0023line"></span>
<p><code>#line</code> is a directive that specifies the original line number
and source file name for subsequent code.  <code>#line</code> has three
variants:
</p>
<dl compact="compact">
<dt><span><code>#line <var>linenum</var></code></span></dt>
<dd><p><var>linenum</var> is a non-negative decimal integer constant.  It specifies
the line number that should be reported for the following line of
input.  Subsequent lines are counted from <var>linenum</var>.
</p>
</dd>
<dt><span><code>#line <var>linenum</var> <var>filename</var></code></span></dt>
<dd><p><var>linenum</var> is the same as for the first form, and has the same
effect.  In addition, <var>filename</var> is a string constant that
specifies the source file name.  Subsequent source lines are recorded
as coming from that file, until something else happens to change that.
<var>filename</var> is interpreted according to the normal rules for a
string constant.  Backslash escapes are interpreted, in contrast to
<code>#include</code>.
</p>
</dd>
<dt><span><code>#line <var>anything else</var></code></span></dt>
<dd><p><var>anything else</var> is checked for macro calls, which are expanded.
The result should match one of the above two forms.
</p></dd>
</dl>

<p><code>#line</code> directives alter the results of the <code>__FILE__</code> and
<code>__LINE__</code> symbols from that point on.  See <a href="Predefined-Macros.html">Predefined Macros</a>.
</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="Null-Directive.html">Null Directive</a>, Previous: <a href="Diagnostics.html">Diagnostics</a>, Up: <a href="Preprocessing.html">Preprocessing</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Symbol-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
