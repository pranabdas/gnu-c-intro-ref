<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright (C) 2022 Richard Stallman and Free Software Foundation, Inc.

(The work of Trevis Rothwell and Nelson Beebe has been assigned to the FSF.)

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<title>Pragma Basics (GNU C Language Manual)</title>

<meta name="description" content="Pragma Basics (GNU C Language Manual)">
<meta name="keywords" content="Pragma Basics (GNU C Language Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Symbol-Index.html" rel="index" title="Symbol Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Pragmas.html" rel="up" title="Pragmas">
<link href="Severity-Pragmas.html" rel="next" title="Severity Pragmas">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="subsection" id="Pragma-Basics">
<div class="header">
<p>
Next: <a href="Severity-Pragmas.html" accesskey="n" rel="next">Severity Pragmas</a>, Up: <a href="Pragmas.html" accesskey="u" rel="up">Pragmas</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Symbol-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Pragma-Basics-1"></span><h4 class="subsection">30.1.1 Pragma Basics</h4>

<p>C defines two syntactical forms for pragmas, the line form and the
token form.  You can write any pragma in either form, with the same
meaning.
</p>
<p>The line form is a line in the source code, like this:
</p>
<div class="example">
<pre class="example">#pragma <var>line</var>
</pre></div>

<p>The line pragma has no effect on the parsing of the lines around it.
This form has the drawback that it can&rsquo;t be generated by a macro expansion.
</p>
<p>The token form is a series of tokens; it can appear anywhere in the
program between the other tokens.
</p>
<div class="example">
<pre class="example">_Pragma (<var>stringconstant</var>)
</pre></div>

<p>The pragma has no effect on the syntax of the tokens that surround it;
thus, here&rsquo;s a pragma in the middle of an <code>if</code> statement:
</p>
<div class="example">
<pre class="example">if _Pragma (&quot;hello&quot;) (x &gt; 1)
</pre></div>

<p>However, that&rsquo;s an unclear thing to do; for the sake of
understandability, it is better to put a pragma on a line by itself
and not embedded in the middle of another construct.
</p>
<p>Both forms of pragma have a textual argument.  In a line pragma, the
text is the rest of the line.  The textual argument to <code>_Pragma</code>
uses the same syntax as a C string constant: surround the text with
two &lsquo;<samp>&quot;</samp>&rsquo; characters, and add a backslash before each &lsquo;<samp>&quot;</samp>&rsquo; or
&lsquo;<samp>\</samp>&rsquo; character in it.
</p>
<p>With either syntax, the textual argument specifies what to do.
It begins with one or several words that specify the operation.
If the compiler does not recognize them, it ignores the pragma.
</p>
<p>Here are the pragma operations supported in GNU C.
</p>
<dl compact="compact">
<dt><span><code>#pragma GCC dependency &quot;<var>file</var>&quot; [<var>message</var>]</code></span></dt>
<dt><span><code>_Pragma (&quot;GCC dependency \&quot;<var>file</var>\&quot; [<var>message</var>]&quot;)</code></span></dt>
<dd><p>Declares that the current source file depends on <var>file</var>, so GNU C
compares the file times and gives a warning if <var>file</var> is newer
than the current source file.
</p>
<p>This directive searches for <var>file</var> the way <code>#include</code>
searches for a non-system header file.
</p>
<p>If <var>message</var> is given, the warning message includes that text.
</p>
<p>Examples:
</p>
<div class="example">
<pre class="example">#pragma GCC dependency &quot;parse.y&quot;
_pragma (&quot;GCC dependency \&quot;/usr/include/time.h\&quot; \
rerun fixincludes&quot;)
</pre></div>

</dd>
<dt><span><code>#pragma GCC poison <var>identifiers</var></code></span></dt>
<dt><span><code>_Pragma (&quot;GCC poison <var>identifiers</var>&quot;)</code></span></dt>
<dd><p>Poisons the identifiers listed in <var>identifiers</var>.
</p>
<p>This is useful to make sure all mention of <var>identifiers</var> has been
deleted from the program and that no reference to them creeps back in.
If any of those identifiers appears anywhere in the source after the
directive, it causes a compilation error.  For example,
</p>
<div class="example">
<pre class="example">#pragma GCC poison printf sprintf fprintf
sprintf(some_string, &quot;hello&quot;);
</pre></div>

<p>generates an error.
</p>
<p>If a poisoned identifier appears as part of the expansion of a macro
that was defined before the identifier was poisoned, it will <em>not</em>
cause an error.  Thus, system headers that define macros that use
the identifier will not cause errors.
</p>
<p>For example,
</p>
<div class="example">
<pre class="example">#define strrchr rindex
_Pragma (&quot;GCC poison rindex&quot;)
strrchr(some_string, 'h');
</pre></div>

<p>does not cause a compilation error.
</p>
</dd>
<dt><span><code>#pragma GCC system_header</code></span></dt>
<dt><span><code>_Pragma (&quot;GCC system_header&quot;)</code></span></dt>
<dd><p>Specify treating the rest of the current source file as if it came
from a system header file.  See <a data-manual="gcc" href="https://gcc.gnu.org/onlinedocs/gcc/System-Headers.html#System-Headers">System Headers</a> in <cite>Using the GNU Compiler Collection</cite>.
</p>
</dd>
<dt><span><code>#pragma GCC warning <var>message</var></code></span></dt>
<dt><span><code>_Pragma (&quot;GCC warning <var>message</var>&quot;)</code></span></dt>
<dd><p>Equivalent to <code>#warning</code>.  Its advantage is that the
<code>_Pragma</code> form can be included in a macro definition.
</p>
</dd>
<dt><span><code>#pragma GCC error <var>message</var></code></span></dt>
<dt><span><code>_Pragma (&quot;GCC error <var>message</var>&quot;)</code></span></dt>
<dd><p>Equivalent to <code>#error</code>.  Its advantage is that the
<code>_Pragma</code> form can be included in a macro definition.
</p>
</dd>
<dt><span><code>#pragma GCC message <var>message</var></code></span></dt>
<dt><span><code>_Pragma (&quot;GCC message <var>message</var>&quot;)</code></span></dt>
<dd><p>Similar to &lsquo;<samp>GCC warning</samp>&rsquo; and &lsquo;<samp>GCC error</samp>&rsquo;, this simply prints an
informational message, and could be used to include additional warning
or error text without triggering more warnings or errors.  (Note that
unlike &lsquo;<samp>warning</samp>&rsquo; and &lsquo;<samp>error</samp>&rsquo;, &lsquo;<samp>message</samp>&rsquo; does not include
&lsquo;<samp>GCC</samp>&rsquo; as part of the pragma.)
</p></dd>
</dl>

</div>
<hr>
<div class="header">
<p>
Next: <a href="Severity-Pragmas.html">Severity Pragmas</a>, Up: <a href="Pragmas.html">Pragmas</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Symbol-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
